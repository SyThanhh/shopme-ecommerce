<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head th:replace="fragments :: page_head(${pageTitle}, 'none')"></head>
<body>
	<div class="container-fluid">
		<div th:replace="navigation :: header_menu"></div>
		<div th:replace="navigation :: search_nav"></div>
		<div th:replace="breabcrumb :: content"></div>
		<h2>Products in Category</h2>
		
		<div th:if="${listCategoryParents != null && !listCategoryParents.empty}">
			<div class="row">
				<div class="col">
					<nav>
						<ol class="breadcrumb">
							<li class="breadcrumb-item"><a th:href="@{/}">Home</a></li>

							<th:block th:each="parent : ${listCategoryParents}">
								<li class="breadcrumb-item"><a
									th:href="@{'/c/' + ${parent.alias}}">[[${parent.name}]]</a></li>
							</th:block>
							
						</ol>
					</nav>
				</div>
			</div>
		
		
		<!-- Hiển thị sub category -->
		<div class="row mb-4">
			<div class="col" th:each="cat : ${category.children}">
				<a th:href="@{'/c/' + ${cat.alias}}">
					<img  th:src="@{${cat.imagePath}}" width="80px"/>
					<br>
					<b>[[${cat.name}]]</b>
				</a>
			</div>
			
		</div>
		
		<div class="row">
			<th:block th:each="product : ${listProducts}">
				<div class="col">
					<div>
						<a th:href="@{'/p/' + ${product.alias}}">
							<img th:src="@{${product.getMainImagePath}}" width="150">
							<br/>
							<b>[[${product.name}]]</b>
						</a>
					</div>
					<div th:if="${product.discountPercent <= 0}">
						<span>$ [[${product.price}]]</span>
					</div>
					<div th:if="${product.discountPercent > 0}">
						<span style="font-size : larger; color:darkred;">$ [[${product.getDiscountPrice}]]</span>
						<del><span>$ [[${product.price}]]</span></del>
					</div>
				</div>
			</th:block>
		</div>
		
		<div th:replace="fragments :: pagination('/c/'+${category.alias}, 'product')"></div>
		
		<div th:replace="navigation :: footer_menu"></div>
		
	</div>
	
</body>
</html>